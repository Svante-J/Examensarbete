@using Umbraco.Cms.Web.Common.PublishedModels;
@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage<ContentModels.ArticlesMain>
@using ContentModels = Umbraco.Cms.Web.Common.PublishedModels;
@{
	Layout = "Master.cshtml";
}

<!DOCTYPE HTML>

		
		<!-- Jumbotron, w title -->
		<div class="jumbotron text-center jumbotron-fluid">
			<div class="container">
				<h1 class="display-1">@Model.Value("articleTitle")</h1>
				<p>@Model.Value("articleBodyText")</p>
			</div>
		</div>

		<!-- Main container -->



<div class="container">

			<!-- Featured blogpost -->
			
			<div class="row section">
				<div class="col-md-12">
				    
				    

    				@{
    				        IPublishedContent featureStory = Model.Value<IPublishedContent>("featureStory");
    				        if(featureStory != null)
    				        {
    				            <a href = "@featureStory.Url()" class = "featured-link"><div class = "featured-blog">
    				                @{
    				                    var featureImage = featureStory.Value<IPublishedContent>("thumbnailImage");
    				                }
    				                <div class = "image-box" style = "background-image:url('@featureImage.Url()')"></div>
        				                <h2>@featureStory.Value("title")</h2>
        				                <p>@featureStory.Value("introText")</p>
        				                <a href="@featureStory.Url()" class="btn btn-primary"> Read More >> </a>
    				                </div>
    				            </a>
    				        }
    				    }


				</div>
			</div>
	


			<!-- Latest blog posts -->
			
                    <!-- Query for blog post generated by umbraco backoffice -->
                @{
                	var selection = Umbraco.Content(Guid.Parse("3c764c52-f7fe-4f35-8b69-f06af3b663b4"))
                    .ChildrenOfType("articleItem")
                    .Where(x => x.IsVisible())
                    .OrderByDescending(x => x.CreateDate);
                }
            
            
            <div class="row">
            	@foreach (var item in selection)
            	{
            		
            		var thumbnail = item.Value<IPublishedContent>("thumbnailImage");
            		<div class="col-md-4">
					<a href="@item.Url()" class="featured-link"><div class="thumbnail-blog">
						<div class="thumbnail-img" style="background-image:url('@thumbnail.Url()')"></div>
						<h5>@item.Value("title")</h5>
					</div></a>
				</div>
            	}
            </div>
			

			

		</div>
		
	